<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link rel="stylesheet" href="../../../css/course.css" />
        <meta name="description" content="JavaScript (ES6) - jQuery Course of the IT Factory @ Thomas More Kempen" />
        <title>International Space Station tracker</title>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/leaflet.min.css" />
        <style>
            #map {
                border: 1px solid #000;
                height: 50vh;
            }
        </style>
    </head>
    <body>
        <tmk-navbar active="ex"></tmk-navbar>
        <main class="container">
            <h1>International Space Station tracker <small>Async/Await</small></h1>
            <div id="info" class="border-green">Display the coordinates and the country of the ISS</div>
            <div id="map" class="border-green"></div>
            <div class="border-gray">
                <p>
                    Display the <a href="https://wheretheiss.at/">position of the ISS</a> (International Space Station) on a map.<br />
                    The map is created with <a href="https://leafletjs.com/">leaflet.js</a> (code already available in the script).<br />
                    Also display the coordinates (rounded to 6 decimal places) and the country over which the ISS is located.
                </p>
                <ol>
                    <li>
                        <b>Locate ISS</b>
                        <ul>
                            <li>
                                Fetch, every 5 seconds, the position of the ISS from:
                                <a href="https://api.wheretheiss.at/v1/satellites/25544">https://api.wheretheiss.at/v1/satellites/25544</a>
                            </li>
                            <li>Update the <code>lat</code> and <code>lng</code> values of the <code>iss</code> object</li>
                            <li>Call de function <code>updateIssMarker()</code> to update the map</li>
                        </ul>
                    </li>
                    <li>
                        <b>Find the country over which the ISS flies</b>
                        <ul>
                            <li>
                                Use
                                <a href="https://nominatim.org/release-docs/latest/api/Search/">OpenStreetMaps reverse geocoding service</a>
                                to search for the country e.g:<br />
                                <a href="https://nominatim.openstreetmap.org/reverse?format=json&lat=51.160854&lon=4.961262"
                                    >Thomas More - campus Geel</a
                                ><br />
                                <a href="https://nominatim.openstreetmap.org/reverse?format=json&lat=23.24215&lon=-37.83705"
                                    >Atlantic ocean</a
                                ><br />
                            </li>
                            <li>
                                Update the <code>country</code> value of the <code>iss</code> object (set the value to 'unknown' if no
                                country was found)
                            </li>
                            <li>Display the coordinates and the country in the green box above the map</li>
                        </ul>
                    </li>
                    <li>
                        <b>Custom marker</b> (optional)
                        <ul>
                            <li>Find an icon that matches the theme and replace the default marker with this icon</li>
                            <li>Info: <a href="https://leafletjs.com/examples.html">https://leafletjs.com/examples.html</a></li>
                        </ul>
                    </li>
                </ol>
            </div>
            <hr />
            <pre data-src="iss.js"></pre>
        </main>
        <tmk-footer></tmk-footer>
        <script type="module" src="../../../js/app.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/leaflet.js"></script>
        <script src="iss.js"></script>
    </body>
</html>
